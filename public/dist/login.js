$(document).ready(() => { function a(a, b) { $.post("/api/login", { email: a, password: b }).then(() => { localStorage.setItem("userEmail", a), localStorage.setItem("isAuthenticated", !0), window.location.replace("/play.html") }).catch(a => { console.log(a); M.toast({ html: "Make sure your email address or password are corect" }) }) } function b() { n.length = 0; for (var a = 0; a < 4; ++a)n.push(new f(r)); m.fillStyle = "#222", m.fillRect(0, 0, k, l) } function d(a) { return "hsl( hue, 80%, 50% )".replace("hue", 360 * (a / k) + o) } function e() { window.requestAnimationFrame(e), ++o, m.shadowBlur = 0, m.fillStyle = "rgba(0,0,0,.02)", m.fillRect(0, 0, k, l), m.shadowBlur = .5; for (var a = 0; a < n.length; ++a)n[a].step() && (n.splice(a, 1), --a); ++p, n.length < 100 && 10 < p && .5 > Math.random() && (p = 0, n.push(new f(r)), m.fillStyle = m.shadowColor = d(r.x), m.beginPath(), m.arc(r.x, r.y, 10, 0, 2 * Math.PI), m.fill()) } function f(a) { this.x = 0 | a.x, this.y = 0 | a.y, this.width = a.width / 1.25; do { var b = q[0 | Math.random() * q.length]; this.vx = b[0], this.vy = b[1] } while (this.vx === -a.vx && this.vy === -a.vy || this.vx === a.vx && this.vy === a.vy); this.vx *= 5, this.vy *= 5, this.dist = Math.random() * 20 + 10 } const g = $("form#form"), i = $("input#email"), j = $("input#password"); g.on("submit", b => { b.preventDefault(); const d = { email: i.val().trim(), password: j.val().trim() }; d.email && d.password && (a(d.email, d.password), i.val(""), j.val("")) }); var k = c.width = window.innerWidth, l = c.height = window.innerHeight, m = c.getContext("2d"), n = [], o = 0, p = 0, q = [[0, 1], [1, 0], [0, -1], [-1, 0], [.7, .7], [.7, -.7], [-.7, .7], [-.7, -.7]], r = { x: k / 2, y: l / 2, vx: 0, vy: 0, width: 10 }; f.prototype.step = function () { var a = !1, b = this.x, e = this.y; if (this.x += this.vx, this.y += this.vy, --this.dist, (0 > this.x || this.x > k || 0 > this.y || this.y > l) && (a = !0), 0 >= this.dist && 1 < this.width && (this.dist = 20 * Math.random() + 10, 100 > n.length && n.push(new f(this)), 100 > n.length && .5 > Math.random() && n.push(new f(this)), .2 > Math.random() && (a = !0)), m.strokeStyle = m.shadowColor = d(this.x), m.beginPath(), m.lineWidth = this.width, m.moveTo(this.x, this.y), m.lineTo(b, e), m.stroke(), a) return !0 }, b(), e(), window.addEventListener("resize", function () { k = c.width = window.innerWidth, l = c.height = window.innerHeight, r.x = k / 2, r.y = l / 2, b() }) }); function validateUser() { "true" === localStorage.isAuthenticated ? window.location.replace("/play.html") : window.location.replace("/login.html") } document.addEventListener("DOMContentLoaded", function () { var a = document.querySelectorAll(".sidenav"), b = M.Sidenav.init(a, {}) }); var collapsibleElem = document.querySelector(".collapsible"), collapsibleInstance = M.Collapsible.init(collapsibleElem, {});
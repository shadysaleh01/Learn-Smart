document.addEventListener("DOMContentLoaded", function () { var a = document.querySelectorAll(".sidenav"), b = M.Sidenav.init(a, {}) }); var collapsibleElem = document.querySelector(".collapsible"), collapsibleInstance = M.Collapsible.init(collapsibleElem, {}); document.addEventListener("DOMContentLoaded", function () { var a = document.querySelectorAll(".dropdown-trigger"), b = M.Dropdown.init(a, { constrainWidth: !1, coverTrigger: !1, alignment: "left", closeOnClick: !1 }) }), window.addEventListener("load", function () { document.querySelector("input[type=\"file\"]").addEventListener("change", function () { if (this.files && this.files[0]) { var a = document.querySelector("img"); a.src = URL.createObjectURL(this.files[0]), a.onload = imageIsLoaded } }) }); function imageIsLoaded() { const a = { img: this.src, email: localStorage.userEmail }; $.ajax({ method: "PUT", url: "/api/img", data: a }).then(() => { }) } const firstName = $("#firstName"), lastName = $("#lastName"), email = $("#email"), squad = $("#squad"), score = $("#score"); $.get("/api/user/" + localStorage.userEmail, a => { console.log(a); var b = document.getElementById("navPic"); b.src = a.img, firstName.text(a.firstName), lastName.text(a.lastName), email.text(a.email), squad.text(localStorage.userChosenSquadProfile), score.text(localStorage.finalScoreProfile); var c = document.getElementById("mainPic"); c.src = a.img, $("#name").text(a.firstName + " " + a.lastName), $("#emailSid").text(a.email); var d = document.getElementById("navSidPic"); d.src = a.img }); function logout() { localStorage.clear(), window.location.replace("/home.html") }